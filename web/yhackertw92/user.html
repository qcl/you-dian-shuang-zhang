<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
<title>油電雙掌</title>

<script type="text/javascript" src="./js/jquery-2.0.3.min.js" /></script>
<!--
<script type="text/javascript" src="./js/bootstrap.min.js" /></script>
<link href="./css/bootstrap.min.css" rel="stylesheet" media="screen" />
-->
<style>
body{
    background: black;
}

.footer{
    position: fixed;
    bottom: 0px;
    left: 0px;
    height: 0%;
    width: 100%;
    background: #776d67;
    z-index: 5;
}

#hands{
    position: absolute;
    top: 100px;
    left: 0px;
}

.hide{
    display:none;
}

.userHead{
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: inline;
    position: absolute;
    top:5px;
    left: 5px;
}

.mission{
    width: 100%;
    background: #56bdeb;
    position: relative;
    height: 60px;
    margin-bottom: 30px;
    vertical-align:middle;
}

#bg{
    width:100%;
    z-index: 10;
    background: transparent;
    position: absolute;
    top:0;
    left:0;
}

#userpage{
    width:100%;
    position: absolute;
    top:0;
    left:0;
}

</style>
</head>
<body>
<div id="bg" class="hide">
    <div id="bgdummy" style="width:100%;">
    </div>
    <div id="bs" class="mission hide"></div>
    <div id="bn" class="mission hide"></div>
    <div id="bh" class="mission hide"></div>
    <div id="footer" class="hide footer"></div>
</div>
<div id="userpage">
    <div id="user_header" style="position:relative;height:50px;">
        <img src="https://graph.facebook.com/{{ id }}/picture" class="userHead" />
        <span style="color:#FFF;font-size:25px;position:absolute;top:10px;left:60px;">{{ name }}</span>
    </div>
    <div id="dummy" style="width:100%;">
    </div>
    <div>
        <div id="start" class="mission">
            <center style="padding-top:10px;">
                <img src="./img/start.png" style="vertical-align:middle"/>
                <span style="color:white;line-height:41px;font-size:30px;vertical-align:middle;" >挑 戰 開 始</span>
            </center>
        </div>
        <div id="network" class="mission">
            <center style="padding-top:10px;">
                <img src="./img/network.png" style="vertical-align:middle"/>
                <span style="color:white;line-height:41px;font-size:30px;vertical-align:middle;" >網 路 連 線</span>
            </center>
        </div>
        <div id="history" class="mission">
            <center style="padding-top:10px;">
                <img src="./img/history.png" style="vertical-align:middle"/>
                <span style="color:white;line-height:41px;font-size:30px;vertical-align:middle;" >歷 史 紀 錄</span>
            </center>
        </div>
    </div>
</div>
<script>

$(function(){
    
    $("#dummy").height($(window).height()*0.3);
    $("#bgdummy").height($(window).height()*0.3+50);
    $("#userpage").height($(window).height());
    $("#bg").height($(window).height());

    var showTimeFast = 500;
    var showTime = 2000;

    var ani = function(imgSrc,url){
        $("#footer").removeClass("hide").animate({
            height: "18%"
        },showTimeFast);
    
        $("#bg").append($("<div id='anib' style='position: fixed; width:100%; left:0; top:0;'><div id='aniDummy' style='width:100%'></div><div id='contain' style='position:relative;'><center><img id='action' style='width:50%;' src='' /><img id='hands' src='./img/hands_gray.png' width='100%' /></center></div></div>"));
        
        $("#aniDummy").height($(window).height());
        $("#action").attr("src",imgSrc);
        $("#aniDummy").animate({height:"100px"},showTime,function(){
            $("#hands").animate({top:$(window).height() },showTime,function(){
                //TODO - goto url
				location.href=url;
            })
        });

    }

    $("#start").click(function(){
        $("#bg").removeClass("hide");
        $("#bs").removeClass("hide");

        $("#bgdummy").animate({
            height: 0
        },showTimeFast,function(){
            $("#bgdummy").remove();
        });

        $("#bs").animate({
            height: $(window).height()
        },showTimeFast,function(){
            $("#bn").remove();
            $("#bh").remove();
			//TODO
            ani("./img/start_word.png","./levelselect.html");
        });
    });

    $("#network").click(function(){
        $("#bg").removeClass("hide");
        $("#bn").removeClass("hide").css("margin-top","90px");

        $("#bgdummy").animate({
            height: 0
        },showTimeFast,function(){
            $("#bgdummy").remove();
        });

        $("#bn").animate({
            height: $(window).height(),
            "margin-top": 0
        },showTimeFast,function(){
            $("#bs").remove();
            $("#bh").remove();

            ani("./img/network_word.png","./testsocket.html");
        });
    });

    $("#history").click(function(){
        $("#bg").removeClass("hide");
        $("#bh").removeClass("hide").css("margin-top","180px");

        $("#bgdummy").animate({
            height: 0
        },showTimeFast,function(){
            $("#bgdummy").remove();
        });

        $("#bh").animate({
            height: $(window).height(),
            "margin-top": 0
        },showTimeFast,function(){
            $("#bn").remove();
            $("#bs").remove();

            //TODO history
        });
    });


});

</script>
</body>
</html>
